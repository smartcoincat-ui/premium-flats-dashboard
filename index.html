<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Premium Flats ¬∑ –ú–æ—Å–∫–≤–∞-–°–∏—Ç–∏ √ó ¬´–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª¬ª ¬∑ 14.02.2026</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      color-scheme: light;
      font-family: "Inter", "SF Pro Display", "Segoe UI", system-ui, -apple-system, sans-serif;
      --bg: #f6f7fb;
      --card: #fff;
      --accent: #2f49ff;
      --text: #141827;
      --muted: #6b718a;
      --border: #e3e7f3;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      padding: clamp(20px, 4vw, 48px);
    }
    header h1 {
      margin: 0 0 6px;
      font-size: clamp(1.9rem, 3vw, 2.7rem);
    }
    header p { margin: 0; color: var(--muted); }
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 22px;
      padding: 22px;
      box-shadow: 0 20px 35px rgba(22, 32, 84, 0.08);
      margin-top: 24px;
    }
    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 18px;
    }
    .stat span { color: var(--muted); font-size: 0.9rem; }
    .stat strong { display: block; font-size: 1.7rem; margin-top: 6px; }
    .controls {
      margin-top: 26px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 16px;
    }
    .controls label { display: flex; flex-direction: column; font-size: 0.9rem; color: var(--muted); }
    .controls input,
    .controls select {
      margin-top: 8px;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid var(--border);
      font-size: 0.95rem;
    }
    #listings { margin-top: 30px; display: grid; gap: 22px; }
    .obj-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 26px;
      overflow: hidden;
      box-shadow: 0 24px 60px rgba(18, 24, 58, 0.08);
    }
    .obj-media { position: relative; }
    .obj-media img {
      width: 100%;
      height: 280px;
      object-fit: cover;
      display: block;
    }
    .pill {
      position: absolute;
      top: 16px;
      left: 16px;
      background: rgba(0,0,0,0.65);
      color: #fff;
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 0.8rem;
    }
    .obj-body { padding: 24px; }
    .obj-body h3 { margin: 0 0 6px; font-size: 1.35rem; }
    .obj-body h3 a { color: var(--text); text-decoration: none; }
    .badges { display: flex; flex-wrap: wrap; gap: 8px; margin: 10px 0 14px; }
    .badge { background: rgba(47,73,255,0.08); color: var(--accent); padding: 4px 10px; border-radius: 999px; font-size: 0.8rem; }
    table { width: 100%; border-collapse: collapse; }
    td { padding: 8px 0; border-bottom: 1px dashed var(--border); }
    td:first-child { width: 36%; color: var(--muted); font-size: 0.9rem; }
    .proscons { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 14px; margin-top: 14px; }
    .proscons ul { margin: 6px 0 0 18px; }
    .note { margin-top: 16px; background: rgba(47,73,255,0.08); border-left: 4px solid var(--accent); padding: 12px 18px; border-radius: 14px; }
    .footer-note { margin-top: 32px; color: var(--muted); font-size: 0.88rem; }
    button.link-btn {
      margin-top: 18px;
      padding: 12px 16px;
      border-radius: 14px;
      border: none;
      background: var(--accent);
      color: #fff;
      font-weight: 600;
      cursor: pointer;
    }
    .refresh-btn {
      align-self: flex-end;
      padding: 12px 16px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: #f1f3ff;
      color: var(--accent);
      font-weight: 600;
      cursor: pointer;
    }
    .refresh-btn[disabled] {
      opacity: 0.6;
      cursor: not-allowed;
    }
    @media (max-width: 720px) {
      .obj-media img { height: 210px; }
      td:first-child { width: 45%; }
    }
  </style>
</head>
<body>
  <header>
    <h1>Premium Watch ¬∑ –ú–æ—Å–∫–≤–∞-–°–∏—Ç–∏ √ó —à–∫–æ–ª–∞ ¬´–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª¬ª</h1>
    <p>–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –ª–æ—Ç—ã –Ω–∞ 14 —Ñ–µ–≤—Ä–∞–ª—è 2026 ¬∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ 10:30 MSK ¬∑ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¶–ò–ê–ù/–ê–≤–∏—Ç–æ PRO + –±—Ä–æ–∫–µ—Ä—Å–∫–∏–µ —á–∞—Ç—ã.</p>
  </header>

  <section class="card stats">
    <div class="stat"><span>–ê–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ª–æ—Ç–æ–≤</span><strong id="stat-total">‚Äî</strong></div>
    <div class="stat"><span>–ö–≤–∞—Ä—Ç–∏—Ä—ã —Å –ø—Ä–æ–ø–∏—Å–∫–æ–π</span><strong id="stat-flats">‚Äî</strong></div>
    <div class="stat"><span>–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞, –º–ª–Ω ‚ÇΩ</span><strong id="stat-price">‚Äî</strong></div>
    <div class="stat"><span>–°—Ä–µ–¥–Ω—è—è –ø–ª–æ—â–∞–¥—å, –º¬≤</span><strong id="stat-area">‚Äî</strong></div>
  </section>

  <section class="controls card">
    <label>–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é/–ñ–ö
      <input type="search" id="search" placeholder="Neva, Headliner, Prime..." />
    </label>
    <label>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±—é–¥–∂–µ—Ç (–º–ª–Ω ‚ÇΩ)
      <input type="range" id="priceRange" min="90" max="140" step="5" value="140" />
      <small id="priceValue">–¥–æ 140</small>
    </label>
    <label>–¢–∏–ø
      <select id="typeFilter">
        <option value="all">–ö–≤–∞—Ä—Ç–∏—Ä—ã + –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã</option>
        <option value="flat">–¢–æ–ª—å–∫–æ –∫–≤–∞—Ä—Ç–∏—Ä—ã</option>
        <option value="apt">–¢–æ–ª—å–∫–æ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã</option>
      </select>
    </label>
    <label>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
      <select id="sortBy">
        <option value="price">–¶–µ–Ω–∞ (‚Üì)</option>
        <option value="area">–ü–ª–æ—â–∞–¥—å (‚Üì)</option>
        <option value="distance">–í—Ä–µ–º—è –¥–æ —à–∫–æ–ª—ã</option>
      </select>
    </label>
    <button id="refreshBtn" class="refresh-btn">üîÑ –ó–∞–ø—Ä–æ—Å–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</button>
      <p style="grid-column: 1 / -1; font-size: 0.85rem; color: var(--muted); margin: 0;">–ö–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Telegram-–±–æ—Ç–∞ KFamilyHome: –Ω–∞–∂–º–∏ ¬´Start¬ª, —á—Ç–æ–±—ã —è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±–Ω–æ–≤–∏–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É.</p>
  </section>

  <section id="listings"></section>

  <p class="footer-note">*–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É—é—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏ –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ª–æ—Ç–æ–≤ –∏–∑ –∑–∞–∫—Ä—ã—Ç—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –±—Ä–æ–∫–µ—Ä–æ–≤. –°—Å—ã–ª–∫–∏ –≤–µ–¥—É—Ç –Ω–∞ –ø—É–±–ª–∏—á–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏, –≥–¥–µ –º–æ–∂–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –ø–æ–∫–∞–∑. –°–ª–µ–¥—É—é—â–∏–π —Ä—É—á–Ω–æ–π –ø—Ä–æ–≥–æ–Ω ‚Äî –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç –∏–ª–∏ –ø–æ –ø–æ—è–≤–ª–µ–Ω–∏—é –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π.</p>

  <script>
    const refreshBtn = document.getElementById('refreshBtn');
    refreshBtn.addEventListener('click', () => {
      refreshBtn.disabled = true;
      refreshBtn.textContent = '‚öôÔ∏è –û—Ç–∫—Ä—ã–≤–∞—é Telegram...';
      const tgUrl = 'https://t.me/KFamilyHome_bot?start=refresh';
      try {
        window.open(tgUrl, '_blank', 'noopener');
      } catch (err) {
        console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã—Ç—å Telegram', err);
      }
      setTimeout(() => {
        refreshBtn.disabled = false;
        refreshBtn.textContent = 'üîÑ –ó–∞–ø—Ä–æ—Å–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ';
      }, 2000);
      alert('–ù–∞–∂–º–∏ ¬´Start¬ª –≤ –æ—Ç–∫—Ä—ã–≤—à–µ–º—Å—è Telegram, —á—Ç–æ–±—ã —è —Å—Ä–∞–∑—É –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª –ø–æ–∏—Å–∫.');
    });
  </script>
    const listings = [
      {
        name: 'Neva Towers, –±–∞—à–Ω—è 2 ‚Äî 108,4 –º¬≤',
        address: '–ü—Ä–µ—Å–Ω–µ–Ω—Å–∫–∞—è –Ω–∞–±–µ—Ä–µ–∂–Ω–∞—è, 2',
        type: 'apt',
        link: 'https://www.cian.ru/sale/flat/325691190/',
        image: 'assets/neva.jpg',
        area: 108.4,
        plan: '2 —Å–ø–∞–ª—å–Ω–∏ + –∫–∞–±–∏–Ω–µ—Ç, –∫—É—Ö–Ω—è-–≥–æ—Å—Ç–∏–Ω–∞—è 38 –º¬≤',
        price: 125.9,
        pricePer: 1.16,
        finish: '–≥–æ—Ç–æ–≤–∞—è –æ—Ç–¥–µ–ª–∫–∞ London',
        parking: '–º–∞—à–∏–Ω–æ–º–µ—Å—Ç–æ –Ω–∞ -2 —ç—Ç–∞–∂–µ (+8,1 –º–ª–Ω ‚ÇΩ)',
        cityTime: '4 –º–∏–Ω –ø–µ—à–∫–æ–º (–≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞)',
        schoolTime: 22,
        schoolString: '18‚Äì25 –º–∏–Ω –Ω–∞ –∞–≤—Ç–æ',
        plus: ['–í–∏–¥–æ–≤–æ–π —ç—Ç–∞–∂ 31/65', '–°–µ—Ä–≤–∏—Å Capital Concierge', '–ó–µ–ª—ë–Ω—ã–π –ø–æ–¥–∏—É–º-—Å–∞–¥'],
        minus: ['–°—Ç–∞—Ç—É—Å –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤ (–Ω–µ—Ç –ø—Ä–æ–ø–∏—Å–∫–∏)', '–í—ã—Å–æ–∫–∏–µ –ø–ª–∞—Ç–µ–∂–∏ –£–ö'],
        note: '–õ—É—á—à–∏–π ready-to-move –≤–∞—Ä–∏–∞–Ω—Ç: –æ—Ç–¥–µ–ª–∫–∞, –º–µ–±–µ–ª—å, —Ç–µ—Ö–Ω–∏–∫–∞. –¢–æ—Ä–≥ 2‚Äì3% —Ä–µ–∞–ª–∏—Å—Ç–∏—á–µ–Ω –ø–∞–∫–µ—Ç–æ–º —Å –ø–∞—Ä–∫–∏–Ω–≥–æ–º.'
      },
      {
        name: 'Capital Towers (Sky), —Å–µ–∫—Ü–∏—è B ‚Äî 112 –º¬≤',
        address: '–ü—Ä–µ—Å–Ω–µ–Ω—Å–∫–∞—è –Ω–∞–±., 8 —Å—Ç—Ä. 1',
        type: 'apt',
        link: 'https://www.cian.ru/sale/flat/326774864/',
        image: 'assets/capital.jpg',
        area: 112.1,
        plan: '–º–∞—Å—Ç–µ—Ä-—Å—É–∏—Ç + —Å–ø–∞–ª—å–Ω—è/–∫–∞–±–∏–Ω–µ—Ç, –ª–æ–¥–∂–∏—è',
        price: 129.0,
        pricePer: 1.15,
        finish: 'white box –æ—Ç –¥–µ–≤–µ–ª–æ–ø–µ—Ä–∞',
        parking: '—Å–≤–æ–±–æ–¥–Ω—ã–µ –º–µ—Å—Ç–∞ –æ—Ç 7,8 –º–ª–Ω ‚ÇΩ',
        cityTime: '3 –º–∏–Ω –ø–µ—à–∫–æ–º –¥–æ –ú–ú–î–¶',
        schoolTime: 24,
        schoolString: '20‚Äì28 –º–∏–Ω (–ö—É—Ç—É–∑–æ–≤—Å–∫–∏–π/–ú–∏–Ω—Å–∫–∞—è)',
        plus: ['–ü–∞–Ω–æ—Ä–∞–º–Ω—ã–µ –æ–∫–Ω–∞ floor-to-ceiling', '–ö–ª—É–±–Ω—ã–π —Ñ–∏—Ç–Ω–µ—Å + –±–∞—Å—Å–µ–π–Ω', '–û—Ç–¥–µ–ª—å–Ω–∞—è –ª–∞—É–Ω–∂-–∑–æ–Ω–∞ —Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–≤'],
        minus: ['+10‚Äì12 –º–ª–Ω ‚ÇΩ –Ω–∞ —á–∏—Å—Ç–æ–≤—É—é –æ—Ç–¥–µ–ª–∫—É', '–ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã'],
        note: '–ë—Ä–∞—Ç—å –ø–æ–¥ bespoke-–æ—Ç–¥–µ–ª–∫—É; —Ç–æ—Ä–≥ 3‚Äì4% –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –ø–∞—Ä–∫–∏–Ω–≥–∞.'
      },
      {
        name: 'City Park, –∫–æ—Ä–ø—É—Å 14 ‚Äî 122,6 –º¬≤',
        address: '–ö—Ä–∞—Å–Ω–æ–ø—Ä–µ—Å–Ω–µ–Ω—Å–∫–∞—è –Ω–∞–±., –∫–≤–∞—Ä—Ç–∞–ª 14',
        type: 'flat',
        link: 'https://www.cian.ru/sale/flat/325542606/',
        image: 'assets/citypark.jpg',
        area: 122.6,
        plan: '3 —Å–ø–∞–ª—å–Ω–∏ + –∫—É—Ö–Ω—è-–≥–æ—Å—Ç–∏–Ω–∞—è 34 –º¬≤, 3 —Å/—É',
        price: 118.0,
        pricePer: 0.96,
        finish: '–ø—Ä–µ–¥—á–∏—Å—Ç–æ–≤–∞—è, –∫–ª—é—á–∏ –º–∞—Ä—Ç 2026',
        parking: '–ø–æ–¥–∑–µ–º–Ω—ã–π –ø–∞—Ä–∫–∏–Ω–≥, –±—Ä–æ–Ω—å –ø–æ –∑–∞—è–≤–∫–µ',
        cityTime: '7 –º–∏–Ω –∞–≤—Ç–æ / 12 –º–∏–Ω –ø–µ—à–∫–æ–º',
        schoolTime: 18,
        schoolString: '15‚Äì20 –º–∏–Ω —á–µ—Ä–µ–∑ –ó–≤–µ–Ω–∏–≥–æ—Ä–æ–¥—Å–∫–æ–µ',
        plus: ['–ü—Ä–æ–ø–∏—Å–∫–∞ –∏ –∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–π —Å—Ç–∞—Ç—É—Å', '–î–≤–æ—Ä-–ø–∞—Ä–∫ 7 –≥–∞ –±–µ–∑ –º–∞—à–∏–Ω', '–û–ø—Ü–∏—è –æ—Ç–¥–µ–ª–∫–∏ MR Group (~4,5 –º–ª–Ω ‚ÇΩ)'],
        minus: ['–ù—É–∂–Ω–æ –¥–æ–≤–µ—Å—Ç–∏ –æ—Ç–¥–µ–ª–∫—É', '–°—Ä–æ–∫–∏ –∫–ª—é—á–µ–π –≤–ø—Ä–∏—Ç—ã–∫'],
        note: '–ú–∞–∫—Å–∏–º—É–º –ø–ª–æ—â–∞–¥–∏ –≤ –±—é–¥–∂–µ—Ç–µ. –ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–º–æ–Ω—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤—ã–¥–∞—á–∏ –∫–ª—é—á–µ–π.'
      },
      {
        name: 'Headliner, –±–∞—à–Ω—è 5 ‚Äî 110,3 –º¬≤',
        address: '–•–æ—Ä–æ—à—ë–≤—Å–∫–æ–µ —à–æ—Å—Å–µ, 12',
        type: 'flat',
        link: 'https://www.cian.ru/sale/flat/324913158/',
        image: 'assets/headliner.jpg',
        area: 110.3,
        plan: '–º–∞—Å—Ç–µ—Ä-—Å—É–∏—Ç + —Å–ø–∞–ª—å–Ω—è + –∫–∞–±–∏–Ω–µ—Ç',
        price: 112.5,
        pricePer: 1.02,
        finish: 'MR Ready (—á–∏—Å—Ç–æ–≤–∞—è)',
        parking: '–ø–∞—Ä–∫–∏–Ω–≥ 6,2 –º–ª–Ω ‚ÇΩ',
        cityTime: '8 –º–∏–Ω –∞–≤—Ç–æ / 2 –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ú–¶–ö',
        schoolTime: 20,
        schoolString: '17‚Äì22 –º–∏–Ω —á–µ—Ä–µ–∑ –¢–¢–ö ‚Üí –ú–∏–Ω—Å–∫–∞—è',
        plus: ['–ö–≤–∞—Ä—Ç–∏—Ä–Ω—ã–π —Å—Ç–∞—Ç—É—Å, –ø—Ä–æ–ø–∏—Å–∫–∞', '–ó–∞–∫—Ä—ã—Ç—ã–µ –¥–≤–æ—Ä—ã –±–µ–∑ –º–∞—à–∏–Ω', '–°–≤–æ–∏ —à–∫–æ–ª–∞ –∏ –¥–µ—Ç—Å–∞–¥ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–ª–µ–∫—Å–∞'],
        minus: ['–°–µ—Ä–≤–∏—Å –ø–æ–ø—Ä–æ—â–µ, —á–µ–º –≤ –±–∞—à–Ω—è—Ö –°–∏—Ç–∏', '–ß–∞—Å—Ç–∏—á–Ω–æ –≤–∏–¥ –Ω–∞ –¢–¢–ö'],
        note: '–ë–∞–ª–∞–Ω—Å ¬´–∫–≤–∞—Ä—Ç–∏—Ä–∞ + –≥–æ—Ç–æ–≤–∞—è –æ—Ç–¥–µ–ª–∫–∞ + –ª–æ–∫–∞—Ü–∏—è¬ª. –¢–æ—Ä–≥ –¥–æ 110 –º–ª–Ω ‚ÇΩ –≤–æ–∑–º–æ–∂–µ–Ω –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–π —Å–¥–µ–ª–∫–µ.'
      },
      {
        name: 'Prime Park, –∫–≤–∞—Ä—Ç–∞–ª Anthracite ‚Äî 120,8 –º¬≤',
        address: '–ê–≤–∏–∞–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –ú–∏–∫–æ—è–Ω–∞, 16',
        type: 'flat',
        link: 'https://www.cian.ru/sale/flat/326041700/',
        image: 'assets/primepark.jpg',
        area: 120.8,
        plan: '3 —Å–ø–∞–ª—å–Ω–∏ + —Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã–π –±–ª–æ–∫',
        price: 105.0,
        pricePer: 0.87,
        finish: 'Signature (–¥–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∞—è)',
        parking: '2 —É—Ä–æ–≤–Ω—è, –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–µ –º–µ—Å—Ç–∞',
        cityTime: '12‚Äì14 –º–∏–Ω –Ω–∞ –∞–≤—Ç–æ',
        schoolTime: 26,
        schoolString: '22‚Äì28 –º–∏–Ω (–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥–∫–∞ ‚Üí –¢–¢–ö)',
        plus: ['–¢–∏—Ö–∏–π –∫–≤–∞—Ä—Ç–∞–ª —Å –æ–∑–µ–ª–µ–Ω–µ–Ω–∏–µ–º', '–ü—Ä–æ–ø–∏—Å–∫–∞ –¶–ê–û', '–ö–ª–∏–Ω–∏–∫–∞ –∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä –≤–Ω—É—Ç—Ä–∏'],
        minus: ['–î–æ–ª—å—à–µ –¥–æ—Ä–æ–≥–∞ –¥–æ —à–∫–æ–ª—ã', '–°–µ—Ä–≤–∏—Å –º–µ–Ω–µ–µ ¬´–æ—Ç–µ–ª—å–Ω—ã–π¬ª'],
        note: '–°—Ü–µ–Ω–∞—Ä–∏–π ¬´–±–æ–ª—å—à–µ –≤–æ–∑–¥—É—Ö–∞ + –ø—Ä–æ–ø–∏—Å–∫–∞¬ª. –•–æ—Ä–æ—à –∫–∞–∫ —Å–µ–º–µ–π–Ω–∞—è –±–∞–∑–∞, –µ—Å–ª–∏ —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç ~25 –º–∏–Ω—É—Ç.'
      }
    ];

    const listingsEl = document.getElementById('listings');
    const searchEl = document.getElementById('search');
    const priceRangeEl = document.getElementById('priceRange');
    const priceValueEl = document.getElementById('priceValue');
    const typeFilterEl = document.getElementById('typeFilter');
    const sortByEl = document.getElementById('sortBy');

    function updateStats(set) {
      const arr = set.length ? set : listings;
      const total = arr.length || 1;
      const sums = arr.reduce((acc, item) => {
        acc.price += item.price;
        acc.area += item.area;
        acc.flats += item.type === 'flat' ? 1 : 0;
        return acc;
      }, { price: 0, area: 0, flats: 0 });
      document.getElementById('stat-total').textContent = arr.length;
      document.getElementById('stat-flats').textContent = `${sums.flats}/${arr.length}`;
      document.getElementById('stat-price').textContent = (sums.price / total).toFixed(1);
      document.getElementById('stat-area').textContent = (sums.area / total).toFixed(0);
    }

    function render() {
      const query = searchEl.value.trim().toLowerCase();
      const maxPrice = Number(priceRangeEl.value);
      priceValueEl.textContent = `–¥–æ ${maxPrice}`;
      const typeFilter = typeFilterEl.value;
      const sortBy = sortByEl.value;

      let filtered = listings.filter(item => {
        const matchesSearch = !query || item.name.toLowerCase().includes(query) || item.address.toLowerCase().includes(query);
        const matchesPrice = item.price <= maxPrice;
        const matchesType = typeFilter === 'all' ? true : item.type === typeFilter;
        return matchesSearch && matchesPrice && matchesType;
      });

      filtered.sort((a, b) => {
        if (sortBy === 'price') return b.price - a.price;
        if (sortBy === 'area') return b.area - a.area;
        if (sortBy === 'distance') return a.schoolTime - b.schoolTime;
        return 0;
      });

      listingsEl.innerHTML = filtered.map(item => `
        <article class="obj-card">
          <div class="obj-media">
            <img src="${item.image}" alt="${item.name}" loading="lazy" />
            <span class="pill">${item.type === 'flat' ? '–ö–≤–∞—Ä—Ç–∏—Ä–∞ ¬∑ –ø—Ä–æ–ø–∏—Å–∫–∞' : '–ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã'}</span>
          </div>
          <div class="obj-body">
            <h3><a href="${item.link}" target="_blank" rel="noopener">${item.name}</a></h3>
            <div>${item.address}</div>
            <div class="badges">
              <span class="badge">${item.cityTime}</span>
              <span class="badge">${item.schoolString}</span>
              <span class="badge">${item.finish}</span>
            </div>
            <table>
              <tr><td>–ü–ª–æ—â–∞–¥—å / –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞</td><td>${item.area} –º¬≤ ¬∑ ${item.plan}</td></tr>
              <tr><td>–¶–µ–Ω–∞</td><td><strong>${item.price.toFixed(1)} –º–ª–Ω ‚ÇΩ</strong> ¬∑ ${item.pricePer.toFixed(2)} –º–ª–Ω ‚ÇΩ/–º¬≤</td></tr>
              <tr><td>–ü–∞—Ä–∫–∏–Ω–≥</td><td>${item.parking}</td></tr>
            </table>
            <div class="proscons">
              <div><strong>–ü–ª—é—Å—ã</strong><ul>${item.plus.map(p => `<li>${p}</li>`).join('')}</ul></div>
              <div><strong>–ú–∏–Ω—É—Å—ã</strong><ul>${item.minus.map(p => `<li>${p}</li>`).join('')}</ul></div>
            </div>
            <div class="note">${item.note}</div>
            <a href="${item.link}" target="_blank" rel="noopener"><button class="link-btn">–û—Ç–∫—Ä—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</button></a>
          </div>
        </article>
      `).join('');

      updateStats(filtered);
    }

    [searchEl, priceRangeEl, typeFilterEl, sortByEl].forEach(el => el.addEventListener('input', render));
    render();
  </script>
</body>
</html>
